<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CustomersRegister</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* Midnight Body */
            color: #f1f5f9;
            margin: 0;
            overflow-x: hidden;
        }

        .cyan-glow {
            box-shadow: 0 0 20px rgba(8, 145, 178, 0.2);
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .input-midnight {
            background: #050d1a;
            border: 1px solid #1e293b;
            transition: all 0.2s ease;
        }

        .input-midnight:focus {
            border-color: #0891b2; /* Dark Cyan */
            outline: none;
            box-shadow: 0 0 0 2px rgba(8, 145, 178, 0.2);
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Status Pills */
        .pill-paid { background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.2); }
        .pill-unpaid { background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid rgba(245, 158, 11, 0.2); }

        /* Hide scrollbar for clean look */
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- JSON Simulation Engine ---
        // This simulates 'hulululululu.json' and 'nopass.json' logic
        const Storage = {
            getData: () => JSON.parse(localStorage.getItem('hulululululu.json')) || [],
            setData: (data) => localStorage.setItem('hulululululu.json', JSON.stringify(data)),
            getAuth: () => JSON.parse(localStorage.getItem('nopass.json')) || { username: 'admin', password: 'password123' },
            setAuth: (creds) => localStorage.setItem('nopass.json', JSON.stringify(creds))
        };

        const App = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [view, setView] = useState('dashboard'); // 'dashboard' or 'settings'
            const [customers, setCustomers] = useState([]);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editingId, setEditingId] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [filterStatus, setFilterStatus] = useState('all');
            const [loginError, setLoginError] = useState('');

            // Form State
            const [formData, setFormData] = useState({
                name: '',
                number: '',
                website: '',
                entryDate: new Date().toISOString().split('T')[0],
                status: 'Unpaid',
                paidDate: ''
            });

            // Settings State
            const [settings, setSettings] = useState({ user: '', pass: '' });

            // Initialize
            useEffect(() => {
                setCustomers(Storage.getData());
                const auth = Storage.getAuth();
                setSettings({ user: auth.username, pass: auth.password });
            }, []);

            const handleLogin = (e) => {
                e.preventDefault();
                const u = e.target.username.value;
                const p = e.target.password.value;
                const creds = Storage.getAuth();

                if (u === creds.username && p === creds.password) {
                    setIsLoggedIn(true);
                    setLoginError('');
                } else {
                    setLoginError('Invalid credentials');
                }
            };

            const logout = () => {
                setIsLoggedIn(false);
                setView('dashboard');
            };

            const saveEntry = (e) => {
                e.preventDefault();
                let updated;
                if (editingId) {
                    updated = customers.map(c => c.id === editingId ? { ...formData, id: editingId } : c);
                } else {
                    updated = [{ ...formData, id: Date.now() }, ...customers];
                }
                setCustomers(updated);
                Storage.setData(updated);
                closeModal();
            };

            const deleteEntry = (id) => {
                if (confirm("Permanently delete this customer record?")) {
                    const updated = customers.filter(c => c.id !== id);
                    setCustomers(updated);
                    Storage.setData(updated);
                }
            };

            const updateAdmin = (e) => {
                e.preventDefault();
                Storage.setAuth({ username: settings.user, password: settings.pass });
                alert("Login credentials updated successfully.");
                setView('dashboard');
            };

            const openModal = (cust = null) => {
                if (cust) {
                    setFormData(cust);
                    setEditingId(cust.id);
                } else {
                    setFormData({
                        name: '',
                        number: '',
                        website: '',
                        entryDate: new Date().toISOString().split('T')[0],
                        status: 'Unpaid',
                        paidDate: ''
                    });
                    setEditingId(null);
                }
                setIsModalOpen(true);
            };

            const closeModal = () => setIsModalOpen(false);

            const filtered = useMemo(() => {
                return customers.filter(c => {
                    const matchSearch = c.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                      c.website.toLowerCase().includes(searchTerm.toLowerCase());
                    const matchFilter = filterStatus === 'all' || c.status === filterStatus;
                    return matchSearch && matchFilter;
                });
            }, [customers, searchTerm, filterStatus]);

            // --- Views ---

            if (!isLoggedIn) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-6 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-slate-900 via-midnight to-midnight">
                        <div className="w-full max-w-sm glass-card p-10 rounded-[2.5rem] shadow-2xl animate-fade-in">
                            <div className="text-center mb-10">
                                <div className="w-14 h-14 bg-brand-600 rounded-2xl flex items-center justify-center mx-auto mb-4 cyan-glow">
                                    <i className="fas fa-shield-halved text-white text-xl"></i>
                                </div>
                                <h1 className="text-2xl font-bold text-white tracking-tight">Login</h1>
                                <p className="text-slate-500 mt-2 text-xs font-bold uppercase tracking-widest">Management System</p>
                            </div>
                            <form onSubmit={handleLogin} className="space-y-5">
                                <div>
                                    <label className="block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1">Username</label>
                                    <input name="username" type="text" required placeholder="Admin" className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" />
                                </div>
                                <div>
                                    <label className="block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1">Password</label>
                                    <input name="password" type="password" required placeholder="••••••••" className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" />
                                </div>
                                <button type="submit" className="w-full py-4 bg-cyan-700 hover:bg-cyan-600 text-white font-bold rounded-xl transition-all active:scale-95 shadow-lg shadow-cyan-900/20">
                                    Login
                                </button>
                                {loginError && <p className="text-red-400 text-[10px] text-center font-bold uppercase mt-2 animate-pulse">{loginError}</p>}
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen flex flex-col">
                    <nav className="border-b border-white/5 bg-slate-900/40 backdrop-blur-xl px-6 py-4 sticky top-0 z-40">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setView('dashboard')}>
                                <div className="w-8 h-8 bg-cyan-700 rounded-lg flex items-center justify-center">
                                    <i className="fas fa-database text-white text-xs"></i>
                                </div>
                                <span className="text-lg font-bold tracking-tight">Customers<span className="text-cyan-500">Register</span></span>
                            </div>
                            <div className="flex items-center gap-4">
                                <button onClick={() => setView(view === 'settings' ? 'dashboard' : 'settings')} className="text-slate-400 hover:text-white transition-colors">
                                    <i className={`fas fa-cog text-lg ${view === 'settings' ? 'text-cyan-500' : ''}`}></i>
                                </button>
                                <button onClick={logout} className="px-4 py-1.5 rounded-lg border border-red-500/20 text-red-400 hover:bg-red-500 hover:text-white text-xs font-bold transition-all uppercase tracking-widest">
                                    Exit
                                </button>
                            </div>
                        </div>
                    </nav>

                    <main className="flex-grow p-4 md:p-10 max-w-7xl mx-auto w-full">
                        {view === 'settings' ? (
                            <div className="max-w-md mx-auto animate-fade-in">
                                <div className="mb-8 text-center">
                                    <h2 className="text-3xl font-bold text-white tracking-tight">Admin Settings</h2>
                                    <p className="text-slate-500 text-[10px] mt-1 font-bold uppercase tracking-widest">Update Credentials</p>
                                </div>
                                <div className="glass-card p-8 rounded-[2.5rem] shadow-2xl">
                                    <form onSubmit={updateAdmin} className="space-y-6">
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">New Username</label>
                                            <input type="text" required value={settings.user} onChange={e => setSettings({...settings, user: e.target.value})} className="w-full px-5 py-4 rounded-2xl input-midnight text-white" />
                                        </div>
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">New Password</label>
                                            <input type="password" required value={settings.pass} onChange={e => setSettings({...settings, pass: e.target.value})} className="w-full px-5 py-4 rounded-2xl input-midnight text-white" />
                                        </div>
                                        <div className="flex gap-4 pt-4">
                                            <button type="button" onClick={() => setView('dashboard')} className="flex-1 py-4 text-slate-400 font-bold">Cancel</button>
                                            <button type="submit" className="flex-1 py-4 bg-cyan-700 hover:bg-cyan-600 text-white font-bold rounded-2xl">Update</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        ) : (
                            <div className="animate-fade-in">
                                <div className="flex flex-col md:flex-row justify-between items-start md:items-end gap-6 mb-12">
                                    <div>
                                        <h2 className="text-4xl font-black text-white tracking-tight">CustomersRegister</h2>
                                        <p className="text-slate-500 mt-1 text-[10px] font-bold uppercase tracking-widest">Customer Data Manager</p>
                                    </div>
                                    <button onClick={() => openModal()} className="px-8 py-4 bg-cyan-700 hover:bg-cyan-600 text-white font-bold rounded-2xl shadow-xl transition-all active:scale-95">
                                        + New Customer
                                    </button>
                                </div>

                                {/* Table Section */}
                                <div className="glass-card rounded-[2.5rem] overflow-hidden shadow-2xl">
                                    <div className="p-6 flex flex-col md:flex-row gap-4 justify-between bg-white/[0.02]">
                                        <div className="relative w-full md:w-80">
                                            <i className="fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-slate-600"></i>
                                            <input type="text" placeholder="Search records..." value={searchTerm} onChange={e => setSearchTerm(e.target.value)} className="w-full pl-12 pr-6 py-3.5 bg-slate-950 border border-white/5 rounded-xl text-white outline-none focus:border-cyan-700 text-sm" />
                                        </div>
                                        <select value={filterStatus} onChange={e => setFilterStatus(e.target.value)} className="bg-slate-950 border border-white/5 text-slate-400 text-xs font-bold rounded-xl px-6 py-3.5 outline-none cursor-pointer">
                                            <option value="all">All</option>
                                            <option value="Paid">Paid</option>
                                            <option value="Unpaid">Unpaid</option>
                                        </select>
                                    </div>

                                    <div className="overflow-x-auto">
                                        <table className="w-full text-left">
                                            <thead className="bg-white/[0.02] text-slate-500 text-[10px] font-black uppercase tracking-widest">
                                                <tr>
                                                    <th className="px-8 py-5">Customer</th>
                                                    <th className="px-8 py-5">Website</th>
                                                    <th className="px-8 py-5">Registration</th>
                                                    <th className="px-8 py-5">Status</th>
                                                    <th className="px-8 py-5 text-right">Ops</th>
                                                </tr>
                                            </thead>
                                            <tbody className="divide-y divide-white/5">
                                                {filtered.map(c => (
                                                    <tr key={c.id} className="hover:bg-white/[0.01] transition-colors group">
                                                        <td className="px-8 py-6">
                                                            <div className="font-bold text-white text-sm">{c.name}</div>
                                                            <div className="text-[10px] text-slate-500 mt-0.5">{c.number}</div>
                                                        </td>
                                                        <td className="px-8 py-6">
                                                            <a href={c.website} target="_blank" className="text-cyan-400 hover:text-cyan-300 text-xs font-bold truncate max-w-[150px] block">
                                                                {c.website.replace(/^https?:\/\//, '')}
                                                            </a>
                                                        </td>
                                                        <td className="px-8 py-6 text-xs text-slate-400 font-medium">
                                                            {c.entryDate}
                                                        </td>
                                                        <td className="px-8 py-6">
                                                            <div className="flex flex-col gap-1">
                                                                <span className={`px-2.5 py-1 rounded-md text-[9px] font-black uppercase tracking-widest w-fit ${c.status === 'Paid' ? 'pill-paid' : 'pill-unpaid'}`}>
                                                                    {c.status}
                                                                </span>
                                                                {c.status === 'Paid' && c.paidDate && (
                                                                    <span className="text-[8px] text-slate-600 uppercase font-bold">Cleared: {c.paidDate}</span>
                                                                )}
                                                            </div>
                                                        </td>
                                                        <td className="px-8 py-6 text-right">
                                                            <div className="flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                                <button onClick={() => openModal(c)} className="p-2 text-slate-400 hover:text-cyan-400"><i className="fas fa-pen text-xs"></i></button>
                                                                <button onClick={() => deleteEntry(c.id)} className="p-2 text-slate-400 hover:text-red-500"><i className="fas fa-trash text-xs"></i></button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                        {filtered.length === 0 && (
                                            <div className="p-20 text-center text-slate-700 text-xs font-bold uppercase tracking-widest">No customer data found</div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Entry Modal */}
                    {isModalOpen && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-md">
                            <div className="glass-card w-full max-w-lg rounded-[2.5rem] p-10 shadow-2xl animate-fade-in">
                                <div className="flex justify-between items-center mb-8">
                                    <h3 className="text-xl font-bold text-white">{editingId ? 'Edit Profile' : 'New Profile'}</h3>
                                    <button onClick={closeModal} className="text-slate-500 hover:text-white"><i className="fas fa-times"></i></button>
                                </div>
                                <form onSubmit={saveEntry} className="space-y-5">
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-5">
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">Full Name</label>
                                            <input type="text" required value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" placeholder="John Doe" />
                                        </div>
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">Phone</label>
                                            <input type="text" required value={formData.number} onChange={e => setFormData({...formData, number: e.target.value})} className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" placeholder="000-000-000" />
                                        </div>
                                    </div>
                                    <div>
                                        <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">Website URL</label>
                                        <input type="url" required value={formData.website} onChange={e => setFormData({...formData, website: e.target.value})} className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" placeholder="https://..." />
                                    </div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-5">
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">Status</label>
                                            <select value={formData.status} onChange={e => setFormData({...formData, status: e.target.value})} className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm cursor-pointer">
                                                <option value="Unpaid">Unpaid</option>
                                                <option value="Paid">Paid</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block">Registration Date</label>
                                            <input type="date" required value={formData.entryDate} onChange={e => setFormData({...formData, entryDate: e.target.value})} className="w-full px-5 py-4 rounded-xl input-midnight text-white text-sm" />
                                        </div>
                                    </div>
                                    
                                    {/* Conditional Paid Date Input */}
                                    {formData.status === 'Paid' && (
                                        <div className="animate-fade-in">
                                            <label className="text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-2 block">Payment Date</label>
                                            <input type="date" required value={formData.paidDate} onChange={e => setFormData({...formData, paidDate: e.target.value})} className="w-full px-5 py-4 rounded-xl border border-emerald-500/20 bg-emerald-500/5 text-emerald-400 text-sm" />
                                        </div>
                                    )}

                                    <button type="submit" className="w-full py-5 bg-cyan-700 hover:bg-cyan-600 text-white font-bold rounded-2xl shadow-xl transition-all mt-4">
                                        Save Record
                                    </button>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

